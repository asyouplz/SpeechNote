# Speech-to-Text Plugin 사용자 가이드

## 목차

1. [시작하기](#시작하기)
2. [음성 파일 변환 방법](#음성-파일-변환-방법)
3. [설정 방법](#설정-방법)
4. [문제 해결 가이드](#문제-해결-가이드)
5. [자주 묻는 질문](#자주-묻는-질문)

---

## 시작하기

### 플러그인 활성화

1. Obsidian 설정을 엽니다 (`Cmd/Ctrl + ,`)
2. 왼쪽 메뉴에서 **커뮤니티 플러그인**을 선택합니다
3. **Speech to Text** 플러그인을 찾아 활성화합니다
4. 플러그인 설정에서 API 키를 입력합니다

### 필수 요구사항

- Obsidian v0.15.0 이상
- OpenAI 또는 Deepgram API 키
- 지원 오디오 형식의 파일 (.m4a, .mp3, .wav, .mp4, .webm, .ogg, .flac)

---

## 음성 파일 변환 방법

Speech-to-Text 플러그인은 3가지 편리한 방법으로 음성 파일을 텍스트로 변환할 수 있습니다.

### 방법 1: 명령 팔레트 사용

가장 빠르고 직관적인 방법입니다.

1. **명령 팔레트 열기**
   - Windows/Linux: `Ctrl + P`
   - macOS: `Cmd + P`

2. **명령 검색**
   - "Transcribe audio file" 입력
   - 자동완성 목록에서 선택

3. **파일 선택**
   - Vault 내 오디오 파일 목록이 표시됩니다
   - 변환하려는 파일을 선택합니다

4. **변환 진행**
   - 하단 상태바에서 진행 상황을 확인할 수 있습니다
   - "Transcribing..." 메시지가 표시됩니다

5. **완료**
   - 변환된 텍스트가 현재 노트에 자동으로 삽입됩니다
   - 삽입 위치는 설정에서 변경할 수 있습니다

### 방법 2: 컨텍스트 메뉴 사용 (우클릭)

파일 탐색기에서 직접 실행하는 방법입니다.

1. **파일 탐색기 열기**
   - 왼쪽 사이드바의 파일 탐색기를 엽니다
   - 또는 `Ctrl/Cmd + Shift + E`

2. **오디오 파일 찾기**
   - Vault 내에서 변환하려는 오디오 파일을 찾습니다
   - 지원 형식: .m4a, .mp3, .wav, .mp4, .webm, .ogg, .flac

3. **우클릭 메뉴**
   - 오디오 파일에서 마우스 우클릭
   - 메뉴에서 **"Transcribe audio file"** 선택

4. **자동 변환**
   - 변환이 자동으로 시작됩니다
   - 진행 상황은 하단 상태바에 표시됩니다

5. **결과 확인**
   - 변환된 텍스트가 활성 노트에 삽입됩니다
   - 활성 노트가 없으면 새 노트가 생성됩니다

### 방법 3: 단축키 사용

자주 사용하는 경우 단축키를 설정하면 편리합니다.

1. **단축키 설정**
   - 설정 → 단축키 (Hotkeys)
   - "Speech to Text" 검색
   - "Transcribe audio file" 찾기

2. **키 조합 지정**
   - 원하는 키 조합 입력 (예: `Ctrl + Shift + T`)
   - 다른 단축키와 충돌하지 않도록 주의

3. **사용 방법**
   - 설정한 단축키를 누르면 파일 선택 다이얼로그가 열립니다
   - 파일을 선택하면 변환이 시작됩니다

### 변환 결과 삽입 위치

변환된 텍스트는 다음 위치 중 하나에 삽입됩니다:

- **커서 위치** (기본값): 현재 커서가 있는 위치
- **노트 끝**: 활성 노트의 맨 끝
- **노트 시작**: 활성 노트의 맨 처음

설정에서 기본 삽입 위치를 변경할 수 있습니다.

---

## 설정 방법

### API 키 설정

#### OpenAI (Whisper) API 키

1. [OpenAI Platform](https://platform.openai.com/api-keys) 접속
2. 로그인 또는 회원가입
3. "Create new secret key" 클릭
4. 키 이름 입력 후 생성
5. 생성된 키 복사 (`sk-` 로 시작)
6. Obsidian 설정 → Speech to Text → OpenAI API Key에 붙여넣기

#### Deepgram API 키

1. [Deepgram Console](https://console.deepgram.com/) 접속
2. 계정 생성 또는 로그인
3. "API Keys" 메뉴 선택
4. "Create a New API Key" 클릭
5. 키 이름과 권한 설정 후 생성
6. API 키 복사
7. Obsidian 설정 → Speech to Text → Deepgram API Key에 붙여넣기

### Provider 선택

플러그인은 두 가지 AI Provider를 지원합니다:

| Provider | 장점 | 단점 | 추천 용도 |
|----------|------|------|-----------|
| **OpenAI Whisper** | 높은 정확도, 안정적 | 25MB 제한 | 짧은 녹음, 메모 |
| **Deepgram** | 대용량 지원 (2GB), 빠른 속도 | 크레딧 필요 | 긴 녹음, 회의록 |
| **Auto** | 자동 최적 선택 | - | 일반 사용 (권장) |

### 언어 설정

- **Auto (자동 감지)**: AI가 자동으로 언어를 감지합니다
- **수동 선택**: 특정 언어를 선택하면 정확도가 향상됩니다
  - 한국어 (ko)
  - 영어 (en)
  - 일본어 (ja)
  - 중국어 (zh)
  - 40개 이상 언어 지원

### 고급 설정

#### 캐시 설정
- **Enable Cache**: 동일 파일 재변환 시 캐시 사용
- 변환 속도 향상 및 API 비용 절감

#### 타임스탬프
- **None**: 타임스탬프 없음
- **Inline**: 텍스트 내 타임스탬프 포함
- **Sidebar**: 사이드바에 타임스탬프 표시

#### Fallback Provider
- 기본 Provider 실패 시 자동으로 대체 Provider 사용
- 서비스 안정성 향상

---

## 문제 해결 가이드

### 자주 발생하는 문제와 해결 방법

#### "Invalid API Key" 오류

**원인**: API 키가 잘못되었거나 만료됨

**해결 방법**:
1. API 키가 올바르게 입력되었는지 확인
   - OpenAI: `sk-` 로 시작
   - Deepgram: 40자 길이의 16진수
2. 키 앞뒤 공백 제거
3. API 대시보드에서 키 상태 확인
4. 크레딧 또는 결제 정보 확인

#### "File too large" 오류

**원인**: 파일 크기가 Provider 제한을 초과

**해결 방법**:
1. 파일 크기 확인
   - Whisper: 최대 25MB
   - Deepgram: 최대 2GB
2. 큰 파일은 Deepgram 사용
3. 오디오 파일 압축:
   ```bash
   ffmpeg -i input.m4a -b:a 128k output.m4a
   ```

#### "No audio files found" 오류

**원인**: Vault에 지원되는 오디오 파일이 없음

**해결 방법**:
1. 지원 형식 확인: .m4a, .mp3, .wav, .mp4, .webm, .ogg, .flac
2. 파일이 Vault 내부에 있는지 확인
3. Obsidian 재시작 (`Cmd/Ctrl + R`)
4. 파일 인덱싱 대기 (큰 Vault의 경우 시간 소요)

#### 컨텍스트 메뉴가 나타나지 않음

**원인**: 플러그인이 제대로 로드되지 않음

**해결 방법**:
1. 플러그인이 활성화되어 있는지 확인
2. Obsidian 재시작
3. 플러그인 재설치
4. 콘솔 로그 확인 (`Ctrl/Cmd + Shift + I`)

#### 변환 속도가 느림

**원인**: 네트워크 속도, 파일 크기, API 서버 상태

**해결 방법**:
1. 인터넷 연결 상태 확인
2. 파일 크기 최적화 (10MB 이하 권장)
3. 캐시 기능 활성화
4. API 서비스 상태 확인:
   - [OpenAI Status](https://status.openai.com)
   - [Deepgram Status](https://status.deepgram.com)

#### StatusBar에 진행 상황이 표시되지 않음

**원인**: StatusBar 초기화 문제

**해결 방법**:
1. 플러그인 설정에서 StatusBar 표시 옵션 확인
2. Obsidian 재시작
3. 다른 테마로 변경 후 다시 원래 테마로 복원

---

## 자주 묻는 질문

### Q: 어떤 오디오 형식을 지원하나요?

**A:** 다음 형식을 지원합니다:
- M4A (Apple 기기 기본 녹음)
- MP3 (범용 오디오)
- WAV (무손실)
- MP4 (비디오 파일의 오디오)
- WebM (웹 스트리밍)
- OGG (오픈소스)
- FLAC (무손실 압축)

### Q: 최대 파일 크기는 얼마인가요?

**A:** Provider별로 다릅니다:
- OpenAI Whisper: 25MB
- Deepgram: 2GB
- Auto 모드에서는 파일 크기에 따라 자동 선택됩니다

### Q: 변환 정확도를 높이려면?

**A:** 다음 팁을 따르세요:
1. 조용한 환경에서 녹음
2. 명확한 발음으로 녹음
3. 고음질 설정 사용
4. 특정 언어 선택 (자동 감지보다 정확)
5. 짧은 구간으로 나누어 녹음

### Q: API 비용은 얼마나 드나요?

**A:** 
- **OpenAI Whisper**: $0.006/분 (약 8원/분)
- **Deepgram**: $0.0043/분 (약 5.5원/분)
- 무료 크레딧 제공 (신규 가입 시)

### Q: 오프라인에서 사용할 수 있나요?

**A:** 현재는 인터넷 연결이 필요합니다. 향후 로컬 모델 지원 예정입니다.

### Q: 여러 파일을 한 번에 변환할 수 있나요?

**A:** 현재는 한 번에 하나씩만 가능합니다. 일괄 변환 기능은 개발 중입니다.

### Q: 변환된 텍스트를 수정할 수 있나요?

**A:** 변환 후 노트에 삽입된 텍스트는 일반 텍스트처럼 자유롭게 편집 가능합니다.

### Q: 다른 언어도 지원하나요?

**A:** 40개 이상의 언어를 지원합니다. 설정에서 언어를 선택하거나 자동 감지를 사용하세요.

---

## 추가 도움말

### 유용한 팁

1. **녹음 팁**
   - 10-15분 단위로 나누어 녹음하면 관리가 쉽습니다
   - 파일명에 날짜와 주제를 포함하면 검색이 편리합니다

2. **조직화 팁**
   - 음성 파일 전용 폴더를 만들어 관리하세요
   - 변환된 노트에 태그를 추가하여 분류하세요

3. **워크플로우 팁**
   - 템플릿을 만들어 변환된 텍스트를 정리하세요
   - Daily Note와 연동하여 일일 음성 메모를 관리하세요

### 지원 및 피드백

- **버그 제보**: [GitHub Issues](https://github.com/asyouplz/SpeechNote-1/issues)
- **기능 요청**: [Feature Requests](https://github.com/asyouplz/SpeechNote-1/issues)
- **토론**: [GitHub Discussions](https://github.com/asyouplz/SpeechNote-1/discussions)
- **문서**: [전체 문서](https://github.com/asyouplz/SpeechNote-1/tree/main/docs)

### 관련 문서

- [README](../README.md) - 프로젝트 개요
- [CHANGELOG](../CHANGELOG.md) - 버전별 변경사항
- [설치 가이드](./setup-guide.md) - 상세 설치 방법
- [API 문서](./api-reference.md) - 개발자 문서
- [문제 해결](./troubleshooting.md) - 상세 문제 해결

---

*최종 업데이트: 2025-08-30 | 버전: 3.0.3*